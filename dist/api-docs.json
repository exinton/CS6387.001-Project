{
    "swagger": "2.0",
    "info": {
        "description": "Public-facing endpoints to interact with our API.",
        "version": "1.0.0",
        "title": "UTD Textbook Exchange"
    },
    "tags": [{
        "name": "Authenticate",
        "description": "For Authenticating requests"
    },
	  {
        "name": "my-books",
        "description": "User's textbook info"
    },
    {
        "name": "forSaleEntries",
        "description": "For operations on the 'For Sale List'"
    }],
    "schemes": ["http"],
    "paths": {
        "/Authenticate": {
            "post": {
                "tags": ["Authenticate"],
                "summary": "Send a username and password in order to get an authorization token",
                "description": "",
                "operationId": "authenticateClient",
                "produces": ["application/json"],
                "parameters": [{
                    "in": "body",
                    "name": "body",
                    "description": "Send a username and password in order to get an authorization token",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/AuthenticationRequest"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/200AuthenticationResult"
                        }
                    },
                    "401": {
                        "description": "Invalid credentials.",
                        "schema": {
                            "$ref": "#/definitions/401AuthenticationResult"
                        }
                    },
					          "500": {
                        "description": "Internal Server Error.",
                        "schema": {
                            "$ref": "#/definitions/500Result"
                        }
                    }
                }
            }
        },
        "/my-books/{userId}/{productionOrStubBooks}": {
            "get": {
                "tags": ["my-books"],
                "summary": "Get a list of user's required textbooks for all semesters",
                "description": "",
                "operationId": "getRequiredTextbooks",
                "produces": ["application/json"],
                "parameters": [{
                    "name": "userId",
                    "in": "path",
                    "description": "ID of User whose books you want",
                    "required": true,
                    "type": "integer",
                    "format": "int"
                },
				        {
                    "name": "productionOrStubBooks",
                    "in": "path",
                    "description": "either 'stub' or 'production'",
                    "required": true,
                    "type": "string"
                }],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/200myBooksResult"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/401Result"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error.",
                        "schema": {
                            "$ref": "#/definitions/500Result"
                        }
                    }
                },
                "security": [{
                    "authorization": []
                }]
            }
        },
        "/forSaleEntries/isbn/{isbn}": {
            "get": {
                "tags": ["forSaleEntries"],
                "summary": "Get a list of books for sale for the given ISBN",
                "description": "",
                "operationId": "getForSaleEntriesByIsbn",
                "produces": ["application/json"],
                "parameters": [{
                    "name": "isbn",
                    "in": "path",
                    "description": "ISBN of book for which you want listings for sale.",
                    "required": true,
                    "type": "string",
                    "format": "int"
                }],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/200forSaleEntriesIsbnGetResult"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/401Result"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error.",
                        "schema": {
                            "$ref": "#/definitions/500Result"
                        }
                    }
                },
                "security": [{
                    "authorization": []
                }]
            }
        },
        "/forSaleEntries/userId/{userId}": {
            "get": {
                "tags": ["forSaleEntries"],
                "summary": "Get a list of books for sale for the given User Id",
                "description": "",
                "operationId": "getForSaleEntriesByUserId",
                "produces": ["application/json"],
                "parameters": [{
                    "name": "userId",
                    "in": "path",
                    "description": "User Id of user for which you want listings for sale.",
                    "required": true,
                    "type": "string"
                }],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/200forSaleEntriesUserGetResult"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/401Result"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error.",
                        "schema": {
                            "$ref": "#/definitions/500Result"
                        }
                    }
                },
                "security": [{
                    "authorization": []
                }]
            }
        }
    },
    "securityDefinitions": {
        "authorization": {
            "type": "apiKey",
            "name": "authorization",
            "in": "header"
        }
        
    },
    "definitions": {
		"AuthenticationRequest": {
			    "type": "object",
			    "properties": {
				      "username": {
					      "type": "string",
						  "default": "wbr071000"
				      },
				      "password": {
					      "type": "string",
						  "default": "thisIsARandomPassword"
				      }
			     }
		},
		"200AuthenticationResult": {
			    "type": "object",
			    "properties": {
				      "success": {
					      "type": "boolean",
						  "default": true
				      },
				      "token": {
					      "type": "string",
						  "default": "JWT eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.MQ.4p-Xcp_Aqs6evX2L8AylTbb1woTuxtlgL-Wg1QMXYYk"
				      }
			     }
		},
		"200myBooksResult": {
			    "type": "array",
			    "items": {
				      "$ref": "#/definitions/getRequiredTextbooksRecord"
			     }
		},
		"200forSaleEntriesIsbnGetResult": {
			    "type": "array",
			    "items": {
				      "$ref": "#/definitions/forSaleRecord"
			     }
		},
		"200forSaleEntriesUserGetResult": {
			    "type": "array",
			    "items": {
				      "$ref": "#/definitions/forSaleRecord"
			     }
		},
		"401Result": {
			    "type": "object",
			    "properties": {
				      "success": {
					      "type": "boolean",
						  "default": false
				      },
				      "msg": {
					      "type": "string",
						  "default": "Authentication failed."
				      }
			     }
		},
		"401AuthenticationResult": {
			    "type": "object",
			    "properties": {
				      "success": {
					      "type": "boolean",
						  "default": false
				      },
				      "msg": {
					      "type": "string",
						  "default": "Invalid credentials."
				      }
			     }
		},
		"500Result": {
			    "type": "object",
			    "properties": {
				      "success": {
					      "type": "boolean",
						  "default": false
				      },
				      "msg": {
					      "type": "string",
						  "default": "Internal Server Error."
				      }
			     }
		},
		"getRequiredTextbooksRecord": {
			    "type": "object",
			    "properties": {
				      "className": {
					      "type": "string",
						    "default": "CS1336.001.17S"
				      },
				      "classBooks": {
				        "type": "array",
				        "items": {
				          "$ref": "#/definitions/classBook" 
				        }
				      }
			     }
		},
		"classBook": {
			    "type": "object",
			    "properties": {
				      "bookName": {
					      "type": "string",
						    "default": "STARTING OUT WITH C++ FROM CNTRL (LOOSEPGS)(W/OUT ACCESS)"
				      },
				      "bookEdition": {
					      "type": "string",
						    "default": "PH 8th Edition 2015"
				      },
				      "bookAuthor": {
					      "type": "string",
						    "default": "GADDIS"
				      },
				      "bookISBN": {
					      "type": "string",
						    "default": "9780133778816"
				      },
				      "book_required_recommended": {
					      "type": "string",
						    "default": "Required Text"
				      }
			     }
		},
		"forSaleRecord": {
			    "type": "object",
			    "properties": {
				      "forSaleId": {
					      "type": "integer",
                "format": "int",
                "default": 217
				      },
				      "isbn": {
					      "type": "string",
						    "default": "9780133778816"
				      },
				      "author": {
					      "type": "string",
						    "default": "GADDIS"
				      },
				      "price": {
					      "type": "number",
					      "format": "double",
						    "default": 37.92
				      },
				      "description": {
					      "type": "string",
						    "default": "Light wear, some hilighting"
				      }
			     }
		}
      
    }
    
}